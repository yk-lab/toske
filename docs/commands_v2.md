# リポジトリアーカイブツール v2以降のサブコマンド案一覧

以下は初期バージョン（v1）以降に追加を検討するサブコマンド案の一覧です。

## サブコマンド一覧

| サブコマンド | 説明                                 | オプション（例）                        |
|--------------|--------------------------------------|------------------------------------------|
| `info`       | 特定プロジェクトの詳細情報を表示する | `-p, --project <project_name>`           |
| `dry-run`    | コマンド実行のシミュレーション表示   | 各サブコマンドで共通オプションとして提供 |
| `history`    | 特定プロジェクトのバックアップ履歴表示 | `-p, --project <project_name>`           |
| `diff`       | バックアップと現在ファイルの差分表示 | `-p, --project <project_name>`           |
| `export`     | バックアップを外部に書き出し         | `-p, --project <project_name>`           |
| `cleanup`    | 未使用・不要なバックアップを一括削除 | 特になし                                 |
| `doctor`     | 設定ファイルや環境の健全性を確認     | 特になし                                 |
| `upgrade`    | ツールを最新バージョンへ更新する     | 特になし                                 |
| `config-path` | 設定ファイルの現在のパスを表示       | 特になし                                 |

## 各サブコマンドの詳細

### info

- 特定プロジェクトの設定内容を表示。
- YAML設定ファイルの内容をCLIで確認可能にする。

### dry-run

- サブコマンドを実際に実行せず、実行される処理内容を表示する。
- 誤操作防止に役立つ。

### history

- プロジェクトごとの過去のバックアップ実施日時一覧を表示。

### diff

- 最新バックアップファイルと現在のファイルとの変更点を差分表示する。

### doctor

- ツールや設定ファイルの整合性を検証し、潜在的な問題点を検出する。
- 設定エラーや不整合を事前に発見可能にする。

### upgrade

- ツール自身を簡単に最新版に更新するための仕組みを提供する。

### config-path

- 使用中の設定ファイルのパスをCLI上で表示する (デフォルトパスまたは環境変数で指定されたパス)。

### その他検討案

- ファイル書き出し機能 (`export`): バックアップを外部へエクスポート。
- ファイル取り込み機能 (`import`): 外部バックアップを簡単に取り込み。

## 共通オプションの考え方

- `dry-run` オプションはすべての実行系サブコマンドに共通して実装すると安全性が向上する。

## 備考

- 設定ファイルパスは環境変数またはデフォルトパスで十分のため、CLIからの明示的な指定オプションは不要。
- YAML設定ファイルはJSON Schemaによりバリデーション可能とする。
